<!DOCTYPE html>
<!--导入thymeleaf和security的整合包的命名空间-->
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>index</h1>
<!--如果没登录 就显示登录-->
<div sec:authorize="!isAuthenticated()">
    <a th:href="@{/login}">登录</a>
</div>
<!--如果登录了就显示注销-->
<div sec:authorize="isAuthenticated()">
    用户名：<span  sec:authentication="principal.username"></span>
    角色： <span   sec:authentication="principal.authorities"></span>
    <a th:href="@{/logout}" >注销</a>
</div>
<div sec:authorize="hasRole('vip1')">
    level1
    <p><a th:href="@{/level/1/1}">level1-1</a></p>
    <p><a th:href="@{/level/1/2}">level1-2</a></p>
    <p><a th:href="@{/level/1/3}">level1-3</a></p>
</div>
<div sec:authorize="hasRole('vip2')">
    level2
    <p><a th:href="@{/level/2/1}">level2-1</a></p>
    <p><a th:href="@{/level/2/2}">level2-2</a></p>
    <p><a th:href="@{/level/2/3}">level2-3</a></p>
</div>
<div sec:authorize="hasRole('vip3')">
    level3
    <p><a th:href="@{/level/3/1}">level3-1</a></p>
    <p><a th:href="@{/level/3/2}">level3-2</a></p>
    <p><a th:href="@{/level/3/3}">level3-3</a></p>
</div>
</body>
</html>